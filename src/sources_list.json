[
	{
		"name": "Vidstreaming",
		"developer": "",
		"url": "https://github.com/Michael24884/taiyaki-repos/blob/master/src/sources/vidstreaming.js",
		"version": "1.0.0",

		"searchTitles": "{ return async function scrapeTitles(title, config, params, cheerio, controller) {this.baseUrl = config.baseUrl; this.headers = config.headers; this.hasCloudflare = config.hasCloudflare; const url = this.baseUrl + '/search.html?' + params;const response = await fetch(url, { headers: this.headers, signal: controller.signal  });const text = await response.text();const $ = cheerio.load(text);return $('li.video-block').toArray().map((e) => {const newTitle = $(e).find('div.picture').find('img[src]').attr('alt');const link = `https://vidstreaming.io${$(e).find('a').attr('href')}`;const image = $(e).find('div.picture').find('img').attr('src'); return { title: newTitle, image, embedLink: link };});} }",
		"scrapeEpisodes": "{ return async function episodes(link, cheerio, controller) { const request = await fetch(link, {signal: controller?.signal});const text = await request.text();const $ = cheerio.load(text);return $('ul.listing.items.lists > li.video-block').toArray().map((element, _index) => {const epLink = $(element).find('a').attr('href');return `https://vidstreaming.io${epLink}`;}).reverse();} }",
		"scrapeLinks": "{ return async function availableServers(episodeLink, cheerio) {async function _prerender() {const pageData = await fetch(episodeLink);const pageText = await pageData.text();const $ = cheerio.load(pageText);const phpFile = $('div.watch_play').find('div.play-video').find('iframe').attr('src');return `https:${phpFile}`;}const directLink = await _prerender();const documentFetch = await fetch(directLink);const document = await documentFetch.text();const $ = cheerio.load(document);return $('ul.list-server-items').find('li.linkserver').toArray().map((element) => {if ($(element).attr('data-status') == '1') {const _mint = $(element).text().trim();if (_mint === 'Server Hyrax') return;if (_mint === 'Easyload') return;const hostName = $(element).text().trim();let _hostLink = $(element).attr('data-video');if (_hostLink.startsWith('/')) _hostLink = 'https:' + _hostLink;return { server: hostName, link: _hostLink };}});} }",
		"baseUrl": "https://vidstreaming.io",
		"hasCloudflare": false,
		"headers": {
			"Accept": "text/html,application/xhtml+xml,application/xml;q=0.9;imag/webp,image/apng",
			"Accept-Encoding": "gzip, deflate, br",
			"User-Agent": "Mozilla/5.0 (Macintosh; Intel Max OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36 OPR/69.0.3686.36"
		}
	}
]
